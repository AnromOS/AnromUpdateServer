{% extends "publish_base.html" %}

{% block body %}
<div class="container">
<div class="panel panel-primary">
    <div class="panel-heading"><strong>{{ escape(ptitle) }}</strong> 添加一个新的开发者</div>
    <div class="panel-body">
      <form action="?a=add" method="post" class="form" role="form"  enctype="multipart/form-data">
          
          <div class="form-group">
            <label for="uname">开发者ID </label>
            <input type="text" name="uname" id="uname" class="form-control" placeholder="用户的ID" {% if (pupdate!=None) %} value="{{ escape(pupdate['u_name']) }}"{% else %} value="" {% end %}/>
          </div>
          
          <div class="form-group">
            <label for="channels">用户类型（若不选，则默认是开发者）:  </label><br>
            {% if (pupdate!=None) and (pupdate['u_role']=='admin') %}
                <div class="radio-inline">
                  <label><input type="radio" name="urole" id="admin" value="admin" checked="true"/>{{ getStatuStr('admin') }}</label>
                </div>
                <div class="radio-inline">
                  <label><input type="radio" name="urole" id="developer" value="developer" />{{ getStatuStr('developer') }}</label>
                </div>
            {% else %}
                <div class="radio-inline">
                  <label><input type="radio" name="urole" id="admin" value="admin"/>{{ getStatuStr('admin') }}</label>
                </div>
                <div class="radio-inline">
                  <label><input type="radio" name="urole" id="developer" value="developer" checked="true"/>{{ getStatuStr('developer') }}</label>
                </div>
            {% end %}
          </div>
          
          <div class="form-group">
            <label for="upassword">用户密码 </label>
            <input name="upassword" id="upassword" type="password" class="form-control" placeholder="不能为空" value="" >
          </div>
          
          <div class="form-group">
            <label for="upassword2">再次输入用户密码 </label>
            <input name="upassword2" id="upassword2" type="password" class="form-control" placeholder="不能为空" value="" >
          </div>
          
          <div class="form-group">
            <label for="udescription">简介</label>
            <textarea type="text" name="udescription" id="udescription" rows=3 class="form-control" placeholder="用一段文字描述这个用户">{% if (pupdate!=None) %} {{ escape(pupdate['u_description']) }}{% end %}</textarea>
          </div>
          <div class="form-group">
            <label for="uavatar">上传头像 {% if (pupdate!=None) %} <img class="img-rounded" height=35px src="{{ escape(pupdate['u_avatar']) }}"/> {% end %}</label>
            <input type="file" name="uavatar" id="uavatar"/>
          </div>
          {% if (pupdate!=None) %}
                <input type="text" name="upicname" id="upicname" class="hidden" value="{{ escape(pupdate['u_avatar']) }}">
          {% end %}
          {% module xsrf_form_html() %}
        <input  class="btn btn-primary" type="submit" value="完成"/>
        </form>
      </div>
</div>
</div>
{% end %}
