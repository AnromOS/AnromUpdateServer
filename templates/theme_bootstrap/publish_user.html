{% extends "base.html" %}

{% block body %}
<strong>{{ escape(ptitle) }}</strong>

<div class="panel panel-primary">
    <div class="panel-heading">添加一个新的开发者</div>
    <div class="panel-body">
      <form action="?a=add" method="post" class="form" role="form"  enctype="multipart/form-data">
          
          <div class="form-group">
            <label for="mname">开发者ID(在页面上显示) </label>
            <input type="text" name="mname" id="mname" class="form-control" placeholder="用户的ID"
            {% if (pupdate!=None) %}
                value="{{ escape(pupdate['m_modname']) }}" 
            {% else %}
                value=""
            {% end %}
            >
          </div>
          
          <div class="form-group">
            <label for="channels">用户类型（若不选，则默认是开发者）:  </label><br>
            <div class="radio-inline">
              <label><input type="radio" name="urole" id="admin" value="admin"/>管理员</label>
            </div>
            <div class="radio-inline">
              <label><input type="radio" name="urole" id="developer" value="developer"/>开发者</label>
            </div>
          </div>
          
          <div class="form-group">
            <label for="mdevice">用户密码 </label>
            <input name="mdevice" id="mdevice" type="password" class="form-control" placeholder="不能为空" value="" >
          </div>
          
          <div class="form-group">
            <label for="mdevice">再次输入用户密码 </label>
            <input name="mdevice" id="mdevice" type="password" class="form-control" placeholder="不能为空" value="" >
          </div>
          
          <div class="form-group">
            <label for="mdescription">简介</label>
            <textarea type="text" name="mdescription" id="mdescription" rows=3 class="form-control" placeholder="用一段文字描述这个用户">
{% if (pupdate!=None) %}
    {{ escape(pupdate['m_moddescription']) }}
{% end %}
</textarea>
    <!--<script type="text/javascript" src="/static/editor/tinyeditor.js"></script>
                <link rel="stylesheet" href="/static/editor/style.css" />
                <script type="text/javascript">
                    var instance=new TINY.editor.edit('editor',{
                        id:'mdescription',
                        width:740,
                        height:275,
                        cssclass:'contentls',
                        controlclass:'tecontrol',
                        rowclass:'teheader',
                        dividerclass:'tedivider',
                        controls:['bold','italic','underline','strikethrough','|','subscript','superscript','|', 'orderedlist','unorderedlist','|','outdent','indent','|','leftalign',
                            'centeralign','rightalign','blockjustify','|','unformat','|','undo','redo','print','n',
                            'font','size','style','forecolor','backcolor','|','image','swf','media','upload','|','hr','link','unlink','|','cut','copy','paste'],
                        footer:true,
                        fonts:['楷体','宋体','黑体','Verdana','Arial','Georgia'],
                        xhtml:true,
                        uploadexc:"",
                        bodyid:'editor',
                        footerclass:'tefooter',
                        toggle:{text:'源码',activetext:'视图',cssclass:'toggle'},
                        resize:{cssclass:'resize'}
                    });
                </script>-->

          </div>
          <div class="form-group">
            <label for="mpicture">上传头像</label>
            <input type="file" name="mpicture" id="mpicture"></input>
          </div>
          {% module xsrf_form_html() %}
        <input  class="btn btn-primary" type="submit" value="完成"/>
        </form>
      </div>
</div>
{% end %}
